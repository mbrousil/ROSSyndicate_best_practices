<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Section 10 Workflow Management with {targets} | ROSSyndicate Project and Workflow Best Practices</title>
  <meta name="description" content="The ROSSyndicate workflow best practices guide." />
  <meta name="generator" content="bookdown 0.35 and GitBook 2.6.7" />

  <meta property="og:title" content="Section 10 Workflow Management with {targets} | ROSSyndicate Project and Workflow Best Practices" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="The ROSSyndicate workflow best practices guide." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Section 10 Workflow Management with {targets} | ROSSyndicate Project and Workflow Best Practices" />
  
  <meta name="twitter:description" content="The ROSSyndicate workflow best practices guide." />
  

<meta name="author" content="ROSSyndicate" />


<meta name="date" content="2024-02-14" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="python-integration-in-rstudio.html"/>
<link rel="next" href="code-documentation-best-practices.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<link href="libs/vembedr-0.1.5/css/vembedr.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">ROSSyndicate Workflow Best Practices</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> About</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#overarching-codeworkflow-philosophies-of-the-rossyndicate"><i class="fa fa-check"></i><b>1.1</b> Overarching code/workflow philosophies of the ROSSyndicate</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#contents"><i class="fa fa-check"></i><b>1.2</b> Contents</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#a-living-document"><i class="fa fa-check"></i><b>1.3</b> A living document</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#origin"><i class="fa fa-check"></i><b>1.4</b> Origin</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="an-introduction-to-git-and-github.html"><a href="an-introduction-to-git-and-github.html"><i class="fa fa-check"></i><b>2</b> An Introduction to Git And GitHub</a>
<ul>
<li class="chapter" data-level="2.1" data-path="an-introduction-to-git-and-github.html"><a href="an-introduction-to-git-and-github.html#setting-up-git-and-github"><i class="fa fa-check"></i><b>2.1</b> Setting up Git and GitHub</a></li>
<li class="chapter" data-level="2.2" data-path="an-introduction-to-git-and-github.html"><a href="an-introduction-to-git-and-github.html#developing-viewing-and-editing-repositories"><i class="fa fa-check"></i><b>2.2</b> Developing, viewing, and editing repositories</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="an-introduction-to-git-and-github.html"><a href="an-introduction-to-git-and-github.html#cloning"><i class="fa fa-check"></i><b>2.2.1</b> Cloning</a></li>
<li class="chapter" data-level="2.2.2" data-path="an-introduction-to-git-and-github.html"><a href="an-introduction-to-git-and-github.html#forking"><i class="fa fa-check"></i><b>2.2.2</b> Forking</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="an-introduction-to-git-and-github.html"><a href="an-introduction-to-git-and-github.html#making-changes-to-repository-visibility"><i class="fa fa-check"></i><b>2.3</b> Making changes to repository visibility</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="an-introduction-to-git-and-github.html"><a href="an-introduction-to-git-and-github.html#reconnecting-severed-repositories"><i class="fa fa-check"></i><b>2.3.1</b> Reconnecting severed repositories</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="an-introduction-to-git-and-github.html"><a href="an-introduction-to-git-and-github.html#additional-resources"><i class="fa fa-check"></i><b>2.4</b> Additional resources</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="workflow-overview.html"><a href="workflow-overview.html"><i class="fa fa-check"></i><b>3</b> Workflow Overview</a>
<ul>
<li class="chapter" data-level="3.1" data-path="workflow-overview.html"><a href="workflow-overview.html#starting-a-new-repository"><i class="fa fa-check"></i><b>3.1</b> Starting a new repository</a></li>
<li class="chapter" data-level="3.2" data-path="workflow-overview.html"><a href="workflow-overview.html#forking-and-cloning-rossyndicate-repositories"><i class="fa fa-check"></i><b>3.2</b> Forking and Cloning ROSSyndicate Repositories</a></li>
<li class="chapter" data-level="3.3" data-path="workflow-overview.html"><a href="workflow-overview.html#collaborative-coding"><i class="fa fa-check"></i><b>3.3</b> Collaborative Coding</a></li>
<li class="chapter" data-level="3.4" data-path="workflow-overview.html"><a href="workflow-overview.html#addressing-merge-conflicts"><i class="fa fa-check"></i><b>3.4</b> Addressing merge conflicts</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="collaborative-coding-and-workflow-best-practices.html"><a href="collaborative-coding-and-workflow-best-practices.html"><i class="fa fa-check"></i><b>4</b> Collaborative Coding and Workflow Best Practices</a>
<ul>
<li class="chapter" data-level="4.1" data-path="collaborative-coding-and-workflow-best-practices.html"><a href="collaborative-coding-and-workflow-best-practices.html#rossyndicate-style-guide"><i class="fa fa-check"></i><b>4.1</b> ROSSyndicate style guide</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="collaborative-coding-and-workflow-best-practices.html"><a href="collaborative-coding-and-workflow-best-practices.html#using-the-styler-addin"><i class="fa fa-check"></i><b>4.1.1</b> Using the ‘Styler’ Addin</a></li>
<li class="chapter" data-level="4.1.2" data-path="collaborative-coding-and-workflow-best-practices.html"><a href="collaborative-coding-and-workflow-best-practices.html#fonts-colors-and-.css"><i class="fa fa-check"></i><b>4.1.2</b> Fonts, colors, and .css</a></li>
<li class="chapter" data-level="4.1.3" data-path="collaborative-coding-and-workflow-best-practices.html"><a href="collaborative-coding-and-workflow-best-practices.html#more-on-literate-code"><i class="fa fa-check"></i><b>4.1.3</b> More on literate code…</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="collaborative-coding-and-workflow-best-practices.html"><a href="collaborative-coding-and-workflow-best-practices.html#commit-history-best-practices"><i class="fa fa-check"></i><b>4.2</b> Commit history best practices</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="collaborative-coding-and-workflow-best-practices.html"><a href="collaborative-coding-and-workflow-best-practices.html#adding-a-co-author-to-your-commit"><i class="fa fa-check"></i><b>4.2.1</b> Adding a co-author to your commit</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="collaborative-coding-and-workflow-best-practices.html"><a href="collaborative-coding-and-workflow-best-practices.html#pull-request-best-practices"><i class="fa fa-check"></i><b>4.3</b> Pull request best practices</a></li>
<li class="chapter" data-level="4.4" data-path="collaborative-coding-and-workflow-best-practices.html"><a href="collaborative-coding-and-workflow-best-practices.html#pull-request-review-best-practices"><i class="fa fa-check"></i><b>4.4</b> Pull request review best practices</a></li>
<li class="chapter" data-level="4.5" data-path="collaborative-coding-and-workflow-best-practices.html"><a href="collaborative-coding-and-workflow-best-practices.html#types-of-code-review-and-engaging-your-internal-creative-partner"><i class="fa fa-check"></i><b>4.5</b> Types of code review and engaging your internal creative partner</a></li>
<li class="chapter" data-level="4.6" data-path="collaborative-coding-and-workflow-best-practices.html"><a href="collaborative-coding-and-workflow-best-practices.html#additional-reading"><i class="fa fa-check"></i><b>4.6</b> Additional Reading</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="project-management-and-tracking-with-github-projects.html"><a href="project-management-and-tracking-with-github-projects.html"><i class="fa fa-check"></i><b>5</b> Project Management and Tracking with GitHub Projects</a>
<ul>
<li class="chapter" data-level="5.1" data-path="project-management-and-tracking-with-github-projects.html"><a href="project-management-and-tracking-with-github-projects.html#github-project-best-practices"><i class="fa fa-check"></i><b>5.1</b> Github Project best practices</a></li>
<li class="chapter" data-level="5.2" data-path="project-management-and-tracking-with-github-projects.html"><a href="project-management-and-tracking-with-github-projects.html#github-project-additional-reading"><i class="fa fa-check"></i><b>5.2</b> GitHub Project additional reading</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="git-hub-feature-branches.html"><a href="git-hub-feature-branches.html"><i class="fa fa-check"></i><b>6</b> Git Hub Feature Branches</a>
<ul>
<li class="chapter" data-level="6.1" data-path="git-hub-feature-branches.html"><a href="git-hub-feature-branches.html#when-to-work-in-a-feature-branch"><i class="fa fa-check"></i><b>6.1</b> When to work in a feature branch</a></li>
<li class="chapter" data-level="6.2" data-path="git-hub-feature-branches.html"><a href="git-hub-feature-branches.html#how-to-create-a-feature-branch"><i class="fa fa-check"></i><b>6.2</b> How to create a feature branch</a></li>
<li class="chapter" data-level="6.3" data-path="git-hub-feature-branches.html"><a href="git-hub-feature-branches.html#feature-branch-best-practices"><i class="fa fa-check"></i><b>6.3</b> Feature branch best practices</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="using-ai-integrations.html"><a href="using-ai-integrations.html"><i class="fa fa-check"></i><b>7</b> Using AI Integrations</a>
<ul>
<li class="chapter" data-level="7.1" data-path="using-ai-integrations.html"><a href="using-ai-integrations.html#using-github-copilot-in-vscode-rstudio"><i class="fa fa-check"></i><b>7.1</b> Using GitHub CoPilot in VSCode + RStudio</a></li>
<li class="chapter" data-level="7.2" data-path="using-ai-integrations.html"><a href="using-ai-integrations.html#accessing-github-copilot-as-a-studentteacherresearcher"><i class="fa fa-check"></i><b>7.2</b> Accessing GitHub CoPilot as a student/teacher/researcher</a></li>
<li class="chapter" data-level="7.3" data-path="using-ai-integrations.html"><a href="using-ai-integrations.html#downloading-vscode-and-installing-the-github-copilot-extension"><i class="fa fa-check"></i><b>7.3</b> Downloading VSCode and installing the GitHub CoPilot extension</a></li>
<li class="chapter" data-level="7.4" data-path="using-ai-integrations.html"><a href="using-ai-integrations.html#setting-up-autosave-in-vscode-rstudio"><i class="fa fa-check"></i><b>7.4</b> Setting up AutoSave in VSCode + RStudio</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="archiving-data-and-code.html"><a href="archiving-data-and-code.html"><i class="fa fa-check"></i><b>8</b> Archiving Data and Code</a>
<ul>
<li class="chapter" data-level="8.1" data-path="archiving-data-and-code.html"><a href="archiving-data-and-code.html#choosing-a-data-repository"><i class="fa fa-check"></i><b>8.1</b> Choosing a data repository</a></li>
<li class="chapter" data-level="8.2" data-path="archiving-data-and-code.html"><a href="archiving-data-and-code.html#publishing-code-to-zenodo"><i class="fa fa-check"></i><b>8.2</b> Publishing code to Zenodo</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="archiving-data-and-code.html"><a href="archiving-data-and-code.html#creating-a-zenodo-account"><i class="fa fa-check"></i><b>8.2.1</b> Creating a Zenodo account</a></li>
<li class="chapter" data-level="8.2.2" data-path="archiving-data-and-code.html"><a href="archiving-data-and-code.html#preparing-to-publish"><i class="fa fa-check"></i><b>8.2.2</b> Preparing to publish</a></li>
<li class="chapter" data-level="8.2.3" data-path="archiving-data-and-code.html"><a href="archiving-data-and-code.html#linking-a-repository-to-zenodo"><i class="fa fa-check"></i><b>8.2.3</b> Linking a repository to Zenodo</a></li>
<li class="chapter" data-level="8.2.4" data-path="archiving-data-and-code.html"><a href="archiving-data-and-code.html#completing-the-metadata-information"><i class="fa fa-check"></i><b>8.2.4</b> Completing the metadata information</a></li>
<li class="chapter" data-level="8.2.5" data-path="archiving-data-and-code.html"><a href="archiving-data-and-code.html#add-the-doi-badge-to-your-repository"><i class="fa fa-check"></i><b>8.2.5</b> Add the DOI badge to your repository</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="archiving-data-and-code.html"><a href="archiving-data-and-code.html#philosophical-and-ethical-considerations"><i class="fa fa-check"></i><b>8.3</b> Philosophical and Ethical Considerations</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="python-integration-in-rstudio.html"><a href="python-integration-in-rstudio.html"><i class="fa fa-check"></i><b>9</b> Python Integration in RStudio</a>
<ul>
<li class="chapter" data-level="9.1" data-path="python-integration-in-rstudio.html"><a href="python-integration-in-rstudio.html#setting-up-a-python-virtual-environment"><i class="fa fa-check"></i><b>9.1</b> Setting up a python virtual environment</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="python-integration-in-rstudio.html"><a href="python-integration-in-rstudio.html#python-setup-code-snippet"><i class="fa fa-check"></i><b>9.1.1</b> Python setup code snippet</a></li>
<li class="chapter" data-level="9.1.2" data-path="python-integration-in-rstudio.html"><a href="python-integration-in-rstudio.html#editing-the-pysetup.r-file"><i class="fa fa-check"></i><b>9.1.2</b> Editing the <code>pySetup.R</code> file</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="workflow-management-with-targets.html"><a href="workflow-management-with-targets.html"><i class="fa fa-check"></i><b>10</b> Workflow Management with {targets}</a>
<ul>
<li class="chapter" data-level="10.1" data-path="workflow-management-with-targets.html"><a href="workflow-management-with-targets.html#using-the-targets-package-to-automate-your-analyses"><i class="fa fa-check"></i><b>10.1</b> Using the {targets} package to automate your analyses</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="workflow-management-with-targets.html"><a href="workflow-management-with-targets.html#hot-tips-and-tricks"><i class="fa fa-check"></i><b>10.1.1</b> Hot tips and tricks</a></li>
<li class="chapter" data-level="10.1.2" data-path="workflow-management-with-targets.html"><a href="workflow-management-with-targets.html#resources"><i class="fa fa-check"></i><b>10.1.2</b> Resources</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="code-documentation-best-practices.html"><a href="code-documentation-best-practices.html"><i class="fa fa-check"></i><b>11</b> Code Documentation Best Practices</a>
<ul>
<li class="chapter" data-level="11.1" data-path="code-documentation-best-practices.html"><a href="code-documentation-best-practices.html#repository-documentation"><i class="fa fa-check"></i><b>11.1</b> Repository documentation</a></li>
<li class="chapter" data-level="11.2" data-path="code-documentation-best-practices.html"><a href="code-documentation-best-practices.html#code-documentation"><i class="fa fa-check"></i><b>11.2</b> Code Documentation</a></li>
<li class="chapter" data-level="11.3" data-path="code-documentation-best-practices.html"><a href="code-documentation-best-practices.html#function-documentation"><i class="fa fa-check"></i><b>11.3</b> Function Documentation</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="code-documentation-best-practices.html"><a href="code-documentation-best-practices.html#roxygen-style-documentation"><i class="fa fa-check"></i><b>11.3.1</b> Roxygen-style documentation</a></li>
<li class="chapter" data-level="11.3.2" data-path="code-documentation-best-practices.html"><a href="code-documentation-best-practices.html#docstring-documentation"><i class="fa fa-check"></i><b>11.3.2</b> docstring Documentation</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="code-documentation-best-practices.html"><a href="code-documentation-best-practices.html#bookdown-documentation"><i class="fa fa-check"></i><b>11.4</b> Bookdown Documentation</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="code-documentation-best-practices.html"><a href="code-documentation-best-practices.html#general-style-guidance"><i class="fa fa-check"></i><b>11.4.1</b> General style guidance</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="flex-your-github-skills-by-updating-our-website.html"><a href="flex-your-github-skills-by-updating-our-website.html"><i class="fa fa-check"></i><b>12</b> Flex your GitHub skills… by updating our website!</a>
<ul>
<li class="chapter" data-level="12.1" data-path="flex-your-github-skills-by-updating-our-website.html"><a href="flex-your-github-skills-by-updating-our-website.html#directions"><i class="fa fa-check"></i><b>12.1</b> Directions:</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">ROSSyndicate Project and Workflow Best Practices</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="workflow-management-with-targets" class="section level1 hasAnchor" number="10">
<h1><span class="header-section-number">Section 10</span> Workflow Management with {targets}<a href="workflow-management-with-targets.html#workflow-management-with-targets" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="using-the-targets-package-to-automate-your-analyses" class="section level2 hasAnchor" number="10.1">
<h2><span class="header-section-number">10.1</span> Using the {targets} package to automate your analyses<a href="workflow-management-with-targets.html#using-the-targets-package-to-automate-your-analyses" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Data science workflows will often grow beyond a single script and can rapidly
become unwieldy when many steps, datasets, and files are involved. This is both
a challenge to keep track of (i.e., which scripts to run first, second, etc.)
and a challenge to communicate to other users in the world of open science.</p>
<p>Workflow management software is a solution to this that the ROSSyndicate has
embraced. Specifically, we use the
<a href="https://books.ropensci.org/targets/">{targets}</a> R package. {targets} in
particular allows you to use R to build out a pipeline (used interchangeably
with workflow here) which the software automatically tracks so that it “knows”
which steps have been run, which have failed, and which need to be re-run. Your
entire analytical pipeline or workflow can be rerun with just the command
<code>tar_make()</code> and you can visualize the connections between objects and functions
in your pipeline with <code>tar_visnetwork()</code>.</p>
<p>One standout strength of this workflow management architecture is that the
software “knows” which downstream steps are affected by a change in the upstream
code or datasets. This means that you as a human have no need to manually re-run
scripts that are outdated by changes in code; {targets} knows which are
affected, can tell you, and automatically re-run them.</p>
<p>Not every analysis is a perfect fit for a {targets} workflow, however. Very
small analyses may not be worth the time needed to invest to build out the
structure of the pipeline. Workflows that are often re-run with updated datasets
or which can perform many parallel iterations are especially good candidates for
the {targets} pipeline style.</p>
<p>Because the ROSSyndicate values literate code and {targets} does not render and
track the output of Markdown or Quarto documents, there are additional steps to
creating easily understandable and literate code within the {targets} framework.
In short, it involves using the <code>tar_render()</code> function to create a bookdown
from Markdown documents as one of the final steps in the workflow. In that
bookdown, you would integrate our practice of literate coding. We will be
developing more framework around this as time passes.</p>
<p>We won’t explain how to use {targets} in detail here, but good resources are
readily available. <a href="https://books.ropensci.org/targets/">The {targets} R package user
manual</a> is a great resource written by the
author of the {targets} package. Matt Brousil from the ROSSyndicate has also
written a short example of building an analysis with the package in <a href="https://targets-ecology.netlify.app/">Targets for
Ecologists</a> and created an <a href="https://www.youtube.com/watch?v=UG4xqYcDpxw">instructional
video</a>.</p>
<div id="hot-tips-and-tricks" class="section level3 hasAnchor" number="10.1.1">
<h3><span class="header-section-number">10.1.1</span> Hot tips and tricks<a href="workflow-management-with-targets.html#hot-tips-and-tricks" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Sourcing scripts for functions in {targets} pipelines</strong></p>
<p>The <code>_targets.R</code> script is an essential piece of a {targets} pipeline. This file
is also where functions that define workflow steps (“targets”) are sourced from
other scripts. {targets} provides a built-in function to do this,
<code>tar_source()</code>. For example: <code>tar_source("src/custom_functions.R")</code></p>
<p><strong>Package use in a {targets} pipeline</strong></p>
<p>You might find it unclear how to require certain packages when writing code for
a {targets} workflow. The ideal situation is that you use the <code>tar_option_set()</code>
function near the top of your <code>_targets.R</code> script and provide the <code>packages</code>
argument a character vector of package names that should be loaded for
<strong><em>every</em></strong> target in the workflow. This often might just be
<code>tar_option_set(packages = c("tidyverse"))</code>. Then, you can change this default
for specific targets within the respective targets’s <code>tar_target()</code> function
like this: <code>tar_target(packages = c("tidyverse", "lubridate"))</code>. Note that
you’ll need to still repeat any packages you’ve already listed in
<code>tar_option_set()</code> when changing the packages argument in <code>tar_target()</code>.</p>
<p><strong>Reading external files into {targets} pipelines</strong></p>
<p>When building your {targets} pipeline you may wonder how best to read in data
and have the pipeline track the existence of input files. The
<a href="https://docs.ropensci.org/tarchetypes/">{tarchetypes}</a> package provides some
handy shortcut functions for this: <code>tar_file()</code> and <code>tar_file_read()</code>. The
first, <code>tar_file()</code>, identifies that a pipeline target is a dynamic file based
on a path provided to the <code>command</code> argument. By contrast, <code>tar_file_read()</code>
will create two pipeline targets: one tracking the file path provided, and a
second reading in the file given the instructions you provide to the <code>read</code>
argument.</p>
<p>For instance, if you have a .yml file that you want to track for changes, you
can use the <code>tar_file()</code> method for tracking. If you have a file (for example a
.csv) that is output from a target that you want to use later, your target that
creates that .csv would return the <em>filepath</em> of that .csv. You could then use
<code>tar_read()</code> to store the data in that .csv as a target and track the file (as
your <em>filepath</em>).</p>
<p><strong>Using the ‘branching’ function in {targets}</strong></p>
<p>There are times where your workflow will benefit from tracking specific inputs
into a target. For instance, in the Landsat acquisition workflow, we repeat a
function over every single WRS path-row over the United States. Sometimes this
acquisition fails because it takes a <strong>long time</strong> to execute. Deploying
branches requires two steps: first, you create a list to iterate (or branch)
on - in this case, a list of path-rows; then you map that list over the function
that relies on the path-row. Your {targets} list might look something like this:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="workflow-management-with-targets.html#cb5-1" tabindex="-1"></a><span class="fu">list</span>(</span>
<span id="cb5-2"><a href="workflow-management-with-targets.html#cb5-2" tabindex="-1"></a>  <span class="co"># get WRS tiles - this target returns a list of path-rows</span></span>
<span id="cb5-3"><a href="workflow-management-with-targets.html#cb5-3" tabindex="-1"></a>  <span class="fu">tar_target</span>(</span>
<span id="cb5-4"><a href="workflow-management-with-targets.html#cb5-4" tabindex="-1"></a>    <span class="at">name =</span> WRS_tiles,</span>
<span id="cb5-5"><a href="workflow-management-with-targets.html#cb5-5" tabindex="-1"></a>    <span class="at">command =</span> <span class="fu">get_WRS_tiles</span>(WRS_detection_method, yml_file),</span>
<span id="cb5-6"><a href="workflow-management-with-targets.html#cb5-6" tabindex="-1"></a>    <span class="at">packages =</span> <span class="fu">c</span>(<span class="st">&quot;readr&quot;</span>, <span class="st">&quot;sf&quot;</span>)</span>
<span id="cb5-7"><a href="workflow-management-with-targets.html#cb5-7" tabindex="-1"></a>  ),</span>
<span id="cb5-8"><a href="workflow-management-with-targets.html#cb5-8" tabindex="-1"></a></span>
<span id="cb5-9"><a href="workflow-management-with-targets.html#cb5-9" tabindex="-1"></a>  <span class="co"># run the landsat pull as function per path-row</span></span>
<span id="cb5-10"><a href="workflow-management-with-targets.html#cb5-10" tabindex="-1"></a>  <span class="fu">tar_target</span>(</span>
<span id="cb5-11"><a href="workflow-management-with-targets.html#cb5-11" tabindex="-1"></a>    <span class="at">name =</span> eeRun,</span>
<span id="cb5-12"><a href="workflow-management-with-targets.html#cb5-12" tabindex="-1"></a>    <span class="at">command =</span> {</span>
<span id="cb5-13"><a href="workflow-management-with-targets.html#cb5-13" tabindex="-1"></a>      ref_pull_457_DSWE1</span>
<span id="cb5-14"><a href="workflow-management-with-targets.html#cb5-14" tabindex="-1"></a>      ref_pull_89_DSWE1</span>
<span id="cb5-15"><a href="workflow-management-with-targets.html#cb5-15" tabindex="-1"></a>      <span class="fu">run_GEE_per_tile</span>(WRS_tiles)</span>
<span id="cb5-16"><a href="workflow-management-with-targets.html#cb5-16" tabindex="-1"></a>    },</span>
<span id="cb5-17"><a href="workflow-management-with-targets.html#cb5-17" tabindex="-1"></a>    <span class="at">pattern =</span> <span class="fu">map</span>(WRS_tiles), <span class="co"># this is where the magic happens!</span></span>
<span id="cb5-18"><a href="workflow-management-with-targets.html#cb5-18" tabindex="-1"></a>    <span class="at">packages =</span> <span class="st">&quot;reticulate&quot;</span></span>
<span id="cb5-19"><a href="workflow-management-with-targets.html#cb5-19" tabindex="-1"></a>  )</span>
<span id="cb5-20"><a href="workflow-management-with-targets.html#cb5-20" tabindex="-1"></a>)</span></code></pre></div>
<p><strong>Using python scripts in {targets}</strong></p>
<p>The {targets} package was designed to work for R workflows only, which means for
our mixed-language workflows, we have to get creative. Again, {targets} will not
render AND track the output of a .Rmd file, which means all of our precious .Rmd
must be translated into .R and .py scripts in order to work in {targets}. We
employ the use of <code>source_python()</code> from the {reticulate} package. You can use
this in the same way you might use <code>tar_source()</code> to track all of the functions
you call in your pipeline. {targets} will track all of the functions in your .py
file as individual targets. To run a python script as a target, you have to nest
it in an R function. For instance, our <code>run_GEE_per_tile()</code> from above is just
this wrapper to:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="workflow-management-with-targets.html#cb6-1" tabindex="-1"></a>run_GEE_per_tile <span class="ot">&lt;-</span> <span class="cf">function</span>(WRS_tile) {</span>
<span id="cb6-2"><a href="workflow-management-with-targets.html#cb6-2" tabindex="-1"></a>  tile <span class="ot">&lt;-</span> WRS_tile <span class="co"># store the tile from the list</span></span>
<span id="cb6-3"><a href="workflow-management-with-targets.html#cb6-3" tabindex="-1"></a>  <span class="fu">write_lines</span>(tile, <span class="st">&#39;data_acquisition/out/current_tile.txt&#39;</span>, <span class="at">sep =</span> <span class="st">&#39;&#39;</span>) <span class="co"># save it as a generic file</span></span>
<span id="cb6-4"><a href="workflow-management-with-targets.html#cb6-4" tabindex="-1"></a>  <span class="fu">source_python</span>(<span class="st">&#39;data_acquisition/src/runGEEperTile.py&#39;</span>) <span class="co"># this script actually *reads* the generic file above as one of the first steps</span></span>
<span id="cb6-5"><a href="workflow-management-with-targets.html#cb6-5" tabindex="-1"></a>}</span></code></pre></div>
<p>Note, {targets} does not track any of the functions called in the
<code>source_python()</code> line like it does in an .R script - you must list all of the
functions that are needed in your script in the <code>command</code> list so that {targets}
knows you need those functions to run the code. Additionally, targets does not
actively track any output from <code>source_python()</code>, so again, you’ll have to get
creative!</p>
<p><strong>Rendering a Bookdown in {targets}</strong> <em>[placeholder]</em></p>
</div>
<div id="resources" class="section level3 hasAnchor" number="10.1.2">
<h3><span class="header-section-number">10.1.2</span> Resources<a href="workflow-management-with-targets.html#resources" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Below are links to resources to help you learn more about {targets} and
implementing workflow management software:</p>
<ul>
<li><a href="https://books.ropensci.org/targets/">The {targets} R package user manual</a> +
<a href="https://doi.org/10.1111/2041-210X.14113">Improving ecological data science with workflow management
software</a> + <a href="https://targets-ecology.netlify.app/">Targets for
Ecologists</a></li>
</ul>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="python-integration-in-rstudio.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="code-documentation-best-practices.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/09-Workflow-Management-with-targets.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
